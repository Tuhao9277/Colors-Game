"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var ColorGame=function(){function n(t){var e=this;_classCallCheck(this,n),this.option={time:30,end:function(t){document.getElementById("screen").innerHTML='<div class="result" style="width: 100%;">\n\t\t\t\t<div class="block-inner" id="restart"> You score is '.concat(t," <br/> click to start again</div>\n\t\t\t  </div>"),addEvent(document.getElementById("restart"),"click",function(){e.init()})}},this.init(t)}return _createClass(n,[{key:"init",value:function(t){var e=this;this.step=0,this.score=0,t&&(Object.assign?Object.assign(this.option,t):extend(this.option,t,!0)),this.time=this.option.time,document.getElementsByClassName("wgt-score")[0].innerHTML='\n\t\t\t得分：：<span id="score">'.concat(this.score,'</span>\n\t\t\t时间：<span id="timer">').concat(this.time,"</span>"),window.timer=setInterval(function(){0===e.time?(clearInterval(window.timer),e.option.end(e.score)):(e.time--,document.getElementById("timer").innerHTML=e.time)},1e3),this.nextStep()}},{key:"nextStep",value:function(){var t,e=this;this.step++;for(var n=(100*(100/(t=this.step<6?this.step+1:this.step<12?2*Math.floor(this.step/2):this.step<18?3*Math.floor(this.step/3):16)).toFixed(2)-1)/100,r=Math.floor(t*t*Math.random()),o=_slicedToArray(getColor(this.step),2),i=o[0],a=o[1],s='<div class="block" style="width: '.concat(n,'%;">\n\t\t<div class="block-inner" style="background-color: #').concat(i,'"></div>\n\t  </div>'),c=[],l=0;l<t*t;l++)c.push(s);c[r]='<div class="block" style="width: '.concat(n,'%;">\n\t\t<div class="block-inner" style="background-color: #').concat(a,'" id="special-block"></div>\n\t  </div>'),document.getElementById("screen").innerHTML=c.join(""),addEvent(document.getElementById("special-block"),"click",function(){e.nextStep(),e.score++,document.getElementById("score").innerHTML=e.score})}}]),n}();function extend(t,e,n){for(var r in e)!e.hasOwnProperty(r)||t.hasOwnProperty(r)&&!n||(t[r]=e[r])}function getColor(t){for(var e=Math.floor(100/t),n=randomColor(17,255),r=n.match(/[\da-z]{2}/g),o=0;o<r.length;o++)r[o]=parseInt(r[o],16);return[n,getRandomColorNumber(r[0],e)+getRandomColorNumber(r[1],e)+getRandomColorNumber(r[2],e)]}function getRandomColorNumber(t,e){var n=Math.floor(t+(Math.random()<.5?-1:1)*e);return 255<n?"ff":16<n?n.toString(16):0<n?"0"+n.toString(16):"00"}function randomColor(t,e){return randomNum(t,e).toString(16)+randomNum(t,e).toString(16)+randomNum(t,e).toString(16)}function randomNum(t,e){return Math.floor(Math.random()*(e-t)+t)}function addEvent(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}